
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>patient_side_GUI module &#8212; Patient Monitoring Client/Server  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-patient_side_GUI">
<span id="patient-side-gui-module"></span><h1>patient_side_GUI module<a class="headerlink" href="#module-patient_side_GUI" title="Permalink to this heading">¶</a></h1>
<p>Created on Thu Nov 17 15:32:18 2022</p>
<p>&#64;author: david</p>
<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.check_ecg_file">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">check_ecg_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ecg_filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#check_ecg_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.check_ecg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the file for ECG analysis</p>
<p>This function checks if the file chosen by the user is a qualified ECG
data file. It rejects the non-csv files and csv files with a column number
other than 2</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ecg_filename (string): Path of the ECG data file</p>
</dd>
<dt>Returns:</dt><dd><p>check (boolean): True if the file is qualified, otherwise the value is
false.
path (string): The relative folder path where the data file is stored
file (string): Name of the ECG data file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.check_text_input">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">check_text_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#check_text_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.check_text_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the patient name and record number</p>
<p>This function checks if the patient name and record number meet the
requirement and returns the check result</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name (string): Name entry
record (string): Patient record number entry</p>
</dd>
<dt>Returns:</dt><dd><p>tag (string): Check result
record_no (string): Patient record number without spaces</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.img_2_b64">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">img_2_b64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#img_2_b64"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.img_2_b64" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an image to a base64 string</p>
<p>This function converts the image to base64 string for uploading. The
encoding is utf-8</p>
<dl class="simple">
<dt>Args:</dt><dd><p>img_path (string): Path of the image file.</p>
</dd>
<dt>Returns:</dt><dd><p>b64str (string): Base64 string of the image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.img_resize">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">img_resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#img_resize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.img_resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Resize the image to fit the GUI</p>
<p>This function resize the image to fit the GUI. The default width is 150 px.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>image (PIL image): Medical image opened by the user</p>
</dd>
<dt>Returns:</dt><dd><p>image (PIL image): Resized image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.main_window">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">main_window</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#main_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.main_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Main window of the patient side GUI</p>
<p>Define all the widgets in the GUI and their corresponding commands</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.upload_info">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">upload_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecg_b64str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_b64str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn_sent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#upload_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.upload_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload the patient information to the server</p>
<p>This function put the patient information together into a dictionary with
the format of:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“patient_record_no”: &lt;int&gt; (mandatory)
“patient_name”: &lt;str&gt; (blank if not provide)
“medical_img”: &lt;b64str&gt; (blank if not provide)
“img_filename”: &lt;str&gt; (blank if not provide)
“ECG_img”: &lt;b64str&gt; (blank if not provide)
“heart_rate”: &lt;str&gt; (blank if not provide)</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If the GUI could not connect to the server or receive the response from the
server after 35 seconds, it returns the error message.</p>
<dl>
<dt>Args:</dt><dd><p>name (string): Patient name.
record (integer): Patient record.
ecg_b64str (string): Base64 string of ECG plots
img_b64str (string): Base64 string of medical images
img_filename(string): Medical image file name
hr (string): Heart rate
warn_sent (string): Indicate if the user wants to overwrite the old
data. Defaults to “false”, “true” if the user confirms overwriting</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>interger: Status code from the server (For 111, this means network</dt><dd><p>error)</p>
</dd>
</dl>
<p>string: Information from the server (For 111, this means network error)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.validate_name">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">validate_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#validate_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.validate_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the name input</p>
<p>The name entry should only contain letters, spaces, or ‘.’. This function
checks if the name input meets the requirements. If the name entry is empty
or only has spaces, the function directly return without checking</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name (string): Name entry</p>
</dd>
<dt>Returns:</dt><dd><p>tag (string): Validation result</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.validate_record">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">validate_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#validate_record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.validate_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the record entry</p>
<p>The record entry should only have spaces or numbers. This function checks
if the record entry meets the requirements and remove all the spaces in the
input.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>record (string): Patient record number entry</p>
</dd>
<dt>Returns:</dt><dd><p>tag (string): Result of validation
record_no_space (string): Patient record number without spaces</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="patient_side_GUI.visualization">
<span class="sig-prename descclassname"><span class="pre">patient_side_GUI.</span></span><span class="sig-name descname"><span class="pre">visualization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/patient_side_GUI.html#visualization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#patient_side_GUI.visualization" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the ECG data</p>
<p>This function plots the ECG data and the accepted peaks. The figure is
saved in the same folder as the analysis result with the same file name as
the ECG data</p>
<dl>
<dt>Args:</dt><dd><p>time (list): ECG timepoint in seconds
voltage (list): Voltage in mV
metrics (dictionary): ECG analysis result in the format of</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“duration”: &lt;ECG strip length as a float&gt;,
“voltage_extremes”: [&lt;min voltage float&gt;, &lt;max voltage float&gt;],
“num_beats”: &lt;number of detected beats as an int&gt;,
“mean_hr_bpm”: &lt;heart rate as a float&gt;,
“beats”: [&lt;beat 1 time point as a float&gt;, …]</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>file_name (string): File path of the ECG analysis result</p>
</dd>
<dt>Returns:</dt><dd><p>x (list): The index of beat time points
lgnd (list): Legend in the plot
fname (string): The file name the ECG plot</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Patient Monitoring Client/Server</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Ziwei He, Junqi Lu, Ramana Balla.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.2.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/Docs/patient_side_GUI.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>